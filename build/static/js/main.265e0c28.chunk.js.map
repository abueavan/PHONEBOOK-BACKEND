{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","props","onSubmit","values","onChanges","type","Person","person","onDelete","name","number","onClick","Persons","persons","map","key","id","Notification","message","info","color","err","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setInfo","error","setErorr","useEffect","personService","initialPerson","personToShow","match","RegExp","event","target","preventDefault","personObject","every","item","returnedPerson","concat","setTimeout","window","confirm","find","p","console","log","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.265e0c28.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n      <div>filter shown with<input value={value} onChange={onChange} /></div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n      <div>\r\n        <form onSubmit={props.onSubmit}>\r\n          <div>\r\n            <div>name: <input value={props.values[0]} onChange={props.onChanges[0]} /></div>\r\n            <div>number: <input value={props.values[1]} onChange={props.onChanges[1]} /></div>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Person = ({person, onDelete}) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number} <button onClick={() => onDelete(person)} >delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nconst Persons = ({persons, onDelete}) => persons.map((person) => <Person person={person} key={person.id} onDelete={onDelete} />)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message,err}) => {\r\n\r\n    const color = err　?　'red' : 'green'\r\n\r\n    const info = {\r\n        color,\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    if(message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={info}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteOne = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n} \r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deleteOne, update }","import React, { useState,useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [info, setInfo] = useState(null)\n  const [error, setErorr] = useState(null)\n  \n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPerson => {\n      setPersons(initialPerson)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.every((item) => item.name!==newName)) {\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setInfo(`Added ${returnedPerson.name}`)\n        setTimeout(() => {\n          setInfo(null)\n        }, 3000)\n      })\n    }\n    else {\n      if(window.confirm(`${newName} has already added to phonebook,replace the old number with a new one?`)){\n        const id = persons.find(p => p.name === newName).id\n        console.log(id)\n        personService\n        .update(id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setInfo(`Changed ${returnedPerson.name}`)\n          setTimeout(() => {\n          setInfo(null)\n        }, 3000)\n        })\n        .catch(error => {\n          setErorr(`Information of ${newName} has already removed from server`)\n          setTimeout(() => {\n            setErorr(null)\n          }, 3000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n        \n      }\n    }\n    \n  }\n\n  const deletePerson = person => {\n    if(window.confirm(`Delete ${person.name}?`)){\n      console.log(person.id)\n      personService\n     .deleteOne(person.id)\n     .then(() => {\n       setPersons(persons.filter(p => p.id !== person.id))\n       setInfo(`Removed ${person.name}`)\n       setTimeout(() => {\n        setInfo(null)\n      }, 3000)\n     })\n     .catch(error => {      \n      setErorr(`Information of ${newName} has already removed from server`)\n      setTimeout(() => {\n        setErorr(null)\n      }, 3000)    \n       setPersons(persons.filter(p => p.id !== person.id))    \n      })   \n    }\n    \n\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const personToShow =  persons.filter((person) => person.name.match(RegExp(filter,'i')))\n\n  const values = [newName, newNumber]\n  const onChanges = [handleNameChange,handleNumberChange]\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={info}  />\n      <Notification message={error} err />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm values={values} onChanges={onChanges} onSubmit={addPerson} />\n      <h3>Numbers</h3>\n      <Persons persons={personToShow} onDelete={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}